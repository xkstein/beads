import{a as H,t as xe,n as j,c as Ge}from"../chunks/disclose-version.CUIVM28i.js";import{k as J,m as ye,N as Ve,Z as Xe,l as Ye,j as Ke,i as We,X as Le,H as Ze,r as ke,n as ge,u as oe,R as Je,aa as he,p as Fe,q as He,t as Qe,L as De,e as pe,ab as Ee,ac as Ae,ad as Ie,ae as je,W as ea,af as aa,A as ta,ag as Pe,I as ze,ah as ra,ai as sa,s as Te,aj as ia,P as na,ak as la,h as oa,al as fa,E as va,am as ca,an as ua,ao as _a,y as da,ap as ha,aq as pa,z as fe,ar as ya,as as ga,F as be,G as Ne,B as wa,at as ee,C as ue,a6 as S,D as ma,c as R,d as a,a7 as Z,a9 as D,a8 as X,au as T,a4 as $e}from"../chunks/runtime.BkFPzvde.js";import{a as xa,e as se,s as qe}from"../chunks/render.BOG3znNa.js";import{p as B,i as _e}from"../chunks/if.DDn2pu0e.js";import{o as Ea}from"../chunks/index-client.CB66icju.js";function ve(r,e){return e}function Ia(r,e,t,i){for(var s=[],l=e.length,v=0;v<l;v++)je(e[v].e,s,!0);var w=l>0&&s.length===0&&t!==null;if(w){var c=t.parentNode;ea(c),c.append(t),i.clear(),Q(r,e[0].prev,e[l-1].next)}aa(s,()=>{for(var k=0;k<l;k++){var u=e[k];w||(i.delete(u.k),Q(r,u.prev,u.next)),ta(u.e,!w)}})}function ce(r,e,t,i,s,l=null){var v=r,w={flags:e,items:new Map,first:null},c=(e&Pe)!==0;if(c){var k=r;v=J?ye(Ve(k)):k.appendChild(Xe())}J&&Ye();var u=null,d=!1;Ke(()=>{var h=t(),n=We(h)?h:h==null?[]:Le(h),o=n.length;if(d&&o===0)return;d=o===0;let p=!1;if(J){var b=v.data===Ze;b!==(o===0)&&(v=ke(),ye(v),ge(!1),p=!0)}if(J){for(var A=null,I,x=0;x<o;x++){if(oe.nodeType===8&&oe.data===Je){v=oe,p=!0,ge(!1);break}var N=n[x],m=i(N,x);I=Be(oe,w,A,null,N,m,x,s,e),w.items.set(m,I),A=I}o>0&&ye(ke())}if(!J){var E=ze;Ma(n,w,v,s,e,(E.f&he)!==0,i)}l!==null&&(o===0?u?Fe(u):u=He(()=>l(v)):u!==null&&Qe(u,()=>{u=null})),p&&ge(!0),t()}),J&&(v=oe)}function Ma(r,e,t,i,s,l,v,w){var P,G,q,F;var c=(s&ra)!==0,k=(s&(Ee|Ie))!==0,u=r.length,d=e.items,h=e.first,n=h,o,p=null,b,A=[],I=[],x,N,m,E;if(c)for(E=0;E<u;E+=1)x=r[E],N=v(x,E),m=d.get(N),m!==void 0&&((P=m.a)==null||P.measure(),(b??(b=new Set)).add(m));for(E=0;E<u;E+=1){if(x=r[E],N=v(x,E),m=d.get(N),m===void 0){var ae=n?n.e.nodes_start:t;p=Be(ae,e,p,p===null?e.first:p.next,x,N,E,i,s),d.set(N,p),A=[],I=[],n=p.next;continue}if(k&&ka(m,x,E,s),m.e.f&he&&(Fe(m.e),c&&((G=m.a)==null||G.unfix(),(b??(b=new Set)).delete(m))),m!==n){if(o!==void 0&&o.has(m)){if(A.length<I.length){var U=I[0],O;p=U.prev;var ne=A[0],le=A[A.length-1];for(O=0;O<A.length;O+=1)Se(A[O],U,t);for(O=0;O<I.length;O+=1)o.delete(I[O]);Q(e,ne.prev,le.next),Q(e,p,ne),Q(e,le,U),n=U,p=le,E-=1,A=[],I=[]}else o.delete(m),Se(m,n,t),Q(e,m.prev,m.next),Q(e,m,p===null?e.first:p.next),Q(e,p,m),p=m;continue}for(A=[],I=[];n!==null&&n.k!==N;)(l||!(n.e.f&he))&&(o??(o=new Set)).add(n),I.push(n),n=n.next;if(n===null)continue;m=n}A.push(m),p=m,n=m.next}if(n!==null||o!==void 0){for(var _=o===void 0?[]:Le(o);n!==null;)(l||!(n.e.f&he))&&_.push(n),n=n.next;var y=_.length;if(y>0){var g=s&Pe&&u===0?t:null;if(c){for(E=0;E<y;E+=1)(q=_[E].a)==null||q.measure();for(E=0;E<y;E+=1)(F=_[E].a)==null||F.fix()}Ia(e,_,g,d)}}c&&De(()=>{var M;if(b!==void 0)for(m of b)(M=m.a)==null||M.apply()}),pe.first=e.first&&e.first.e,pe.last=p&&p.e}function ka(r,e,t,i){i&Ee&&Ae(r.v,e),i&Ie?Ae(r.i,t):r.i=t}function Be(r,e,t,i,s,l,v,w,c,k){var u=(c&Ee)!==0,d=(c&ia)===0,h=u?d?sa(s):Te(s):s,n=c&Ie?Te(v):v,o={i:n,v:h,k:l,a:null,e:null,prev:t,next:i};try{return o.e=He(()=>w(r,h,n),J),o.e.prev=t&&t.e,o.e.next=i&&i.e,t===null?e.first=o:(t.next=o,t.e.next=o.e),i!==null&&(i.prev=o,i.e.prev=o.e),o}finally{}}function Se(r,e,t){for(var i=r.next?r.next.e.nodes_start:t,s=e?e.e.nodes_start:t,l=r.e.nodes_start;l!==i;){var v=na(l);s.before(l),l=v}}function Q(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function f(r,e,t,i){var s=r.__attributes??(r.__attributes={});J&&(s[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||s[e]!==(s[e]=t)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[la]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Aa(r).includes(e)?r[e]=t:r.setAttribute(e,t))}var Ce=new Map;function Aa(r){var e=Ce.get(r.nodeName);if(e)return e;Ce.set(r.nodeName,e=[]);for(var t,i=r,s=Element.prototype;s!==i;){t=fa(i);for(var l in t)t[l].set&&e.push(l);i=oa(i)}return e}const Ta=()=>performance.now(),K={tick:r=>requestAnimationFrame(r),now:()=>Ta(),tasks:new Set};function Ue(){const r=K.now();K.tasks.forEach(e=>{e.c(r)||(K.tasks.delete(e),e.f())}),K.tasks.size!==0&&K.tick(Ue)}function ba(r){let e;return K.tasks.size===0&&K.tick(Ue),{promise:new Promise(t=>{K.tasks.add(e={c:r,f:t})}),abort(){K.tasks.delete(e)}}}function de(r,e){r.dispatchEvent(new CustomEvent(e))}function Na(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Re(r){const e={},t=r.split(";");for(const i of t){const[s,l]=i.split(":");if(!s||l===void 0)break;const v=Na(s.trim());e[v]=l.trim()}return e}const $a=r=>r;function Y(r,e,t,i){var s=(r&ha)!==0,l=(r&ya)!==0,v=s&&l,w=(r&ga)!==0,c=v?"both":s?"in":"out",k,u=e.inert,d=e.style.overflow,h,n;function o(){var x=ze,N=pe;be(null),Ne(null);try{return k??(k=t()(e,(i==null?void 0:i())??{},{direction:c}))}finally{be(x),Ne(N)}}var p={is_global:w,in(){var x;if(e.inert=u,!s){n==null||n.abort(),(x=n==null?void 0:n.reset)==null||x.call(n);return}l||h==null||h.abort(),de(e,"introstart"),h=me(e,o(),n,1,()=>{de(e,"introend"),h==null||h.abort(),h=k=void 0,e.style.overflow=d})},out(x){if(!l){x==null||x(),k=void 0;return}e.inert=!0,de(e,"outrostart"),n=me(e,o(),h,0,()=>{de(e,"outroend"),x==null||x()})},stop:()=>{h==null||h.abort(),n==null||n.abort()}},b=pe;if((b.transitions??(b.transitions=[])).push(p),s&&xa){var A=w;if(!A){for(var I=b.parent;I&&I.f&va;)for(;(I=I.parent)&&!(I.f&ca););A=!I||(I.f&ua)!==0}A&&_a(()=>{da(()=>p.in())})}}function me(r,e,t,i,s){var l=i===1;if(pa(e)){var v,w=!1;return De(()=>{if(!w){var b=e({direction:l?"in":"out"});v=me(r,b,t,i,s)}}),{abort:()=>{w=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return s(),{abort:fe,deactivate:fe,reset:fe,t:()=>i};const{delay:c=0,css:k,tick:u,easing:d=$a}=e;var h=[];if(l&&t===void 0&&(u&&u(0,1),k)){var n=Re(k(0,1));h.push(n,n)}var o=()=>1-i,p=r.animate(h,{duration:c});return p.onfinish=()=>{var b=(t==null?void 0:t.t())??1-i;t==null||t.abort();var A=i-b,I=e.duration*Math.abs(A),x=[];if(I>0){var N=!1;if(k)for(var m=Math.ceil(I/16.666666666666668),E=0;E<=m;E+=1){var ae=b+A*d(E/m),U=Re(k(ae,1-ae));x.push(U),N||(N=U.overflow==="hidden")}N&&(r.style.overflow="hidden"),o=()=>{var O=p.currentTime;return b+A*d(O/I)},u&&ba(()=>{if(p.playState!=="running")return!1;var O=o();return u(O,1-O),!0})}p=r.animate(x,{duration:I,fill:"forwards"}),p.onfinish=()=>{o=()=>i,u==null||u(i,1-i),s()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=fe)},deactivate:()=>{s=fe},reset:()=>{i===0&&(u==null||u(1,0))},t:()=>o()}}const qa=r=>r;function Sa(r){const e=r-1;return e*e*e+1}function Oe(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function ie(r,{delay:e=0,duration:t=400,easing:i=qa}={}){const s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*s}`}}function we(r,{delay:e=0,duration:t=400,easing:i=Sa,x:s=0,y:l=0,opacity:v=0}={}){const w=getComputedStyle(r),c=+w.opacity,k=w.transform==="none"?"":w.transform,u=c*(1-v),[d,h]=Oe(s),[n,o]=Oe(l);return{delay:e,duration:t,easing:i,css:(p,b)=>`
			transform: ${k} translate(${(1-p)*d}${h}, ${(1-p)*n}${o});
			opacity: ${c-u*b}`}}var Ca=j('<circle class="svelte-1vqysw6"></circle>'),Ra=j('<g class="svelte-1vqysw6"><line stroke="grey" stroke-linecap="round" class="svelte-1vqysw6"></line><circle opacity="0%" class="svelte-1vqysw6"></circle></g>'),Oa=j("<!><!>",1),La=j('<circle class="svelte-1vqysw6"></circle>'),Fa=j('<circle class="svelte-1vqysw6"></circle>'),Ha=j('<polygon fill="black"></polygon><polygon fill="black"></polygon><g class="svelte-1vqysw6"><rect></rect><text text-anchor="middle" font-size="0.1" fill="white" class="svelte-1vqysw6">FLIP</text></g><g class="svelte-1vqysw6"><rect></rect><text text-anchor="middle" font-size="0.1" fill="white" class="svelte-1vqysw6">SMUSH</text></g>',1),Da=j('<g class="svelte-1vqysw6"><rect></rect><text text-anchor="middle" font-size="0.1" fill="white" class="svelte-1vqysw6">NEXT</text></g>'),Pa=j("<g><!><!><!></g>"),za=xe("<span> </span>"),Ba=xe('<div class="wheel-text svelte-1vqysw6"></div>'),Ua=xe('<svg class="game-window svelte-1vqysw6"><!></svg> <!> <div class="move_counter svelte-1vqysw6"> </div>',1);function Wa(r,e){wa(e,!0);const t={wheel:0,smush:1,display:2};let i=ee(null),s=ee(1),l=1,v=$e(()=>.5*(Math.sqrt(a(s)**2+l**2)/4)),w=Array.from({length:40},()=>Math.random()<.5),c=$e(()=>.5*Math.PI*a(v)/w.length);var k=[];for(let _=0;_<w.length;_++)k.push((2*_+1)*Math.PI/w.length);let u=ee(null);var d=ee(B([[]]));let h=ee(0),n=ee(B([])),o=[];var p=ee(0);function b(_){if(a(u)==null){R(u,B(_));return}if(_==a(u)){R(u,null);return}let y=_>a(u)?a(u):_,g=_>a(u)?_:a(u);R(d,B([w.slice(y+1,g+1),w.slice(g+1).concat(w.slice(0,y+1))])),T(d)[1].length>T(d)[0].length&&R(d,B(T(d).reverse())),R(u,null),I(t.smush)}function A(){R(n,B([Array(T(d)[0].length),Array(T(d)[1].length)]));let _=0,y=0;if(a(h)>=0){o=T(d)[0].slice(0,a(h)),_=a(h),y=0;for(let g=0;g<a(h);g++)a(n)[0][g]=g}else{o=T(d)[1].slice(0,-a(h)),_=0,y=-a(h);for(let g=0;g<-a(h);g++)a(n)[1][g]=g}for(;y<T(d)[1].length&&_<T(d)[0].length;)a(n)[0][_]=o.length,o.push(T(d)[0][_]),a(n)[1][y]=o.length,o.push(T(d)[1][y]),y+=1,_+=1;for(let g=_;g<T(d)[0].length;g++)a(n)[0][g]=o.length+g-_;for(let g=y;g<T(d)[1].length;g++)a(n)[1][g]=o.length+g-y;o=o.concat(T(d)[1].slice(y)),o=o.concat(T(d)[0].slice(_)),console.log(a(n)),w=o,R(i,B(t.display))}function I(_){if(_==t.wheel){let y=setInterval(()=>{R(s,1),clearInterval(y)},500);R(i,B(t.wheel))}else if(_==t.smush){let y=0,g=20,P=setInterval(()=>{y+=1,R(s,y*(4*a(c)*w.length-1)/g+1),y==g&&clearInterval(P)},20);R(i,B(t.smush))}else _==t.display&&R(i,B(t.display))}Ea(()=>{R(i,B(t.wheel))});var x=Ua(),N=ue(x),m=Z(N);{var E=_=>{var y=Oa(),g=ue(y);ce(g,17,()=>w,ve,(G,q,F)=>{var M=Ca();S(()=>f(M,"cx",a(v)*Math.cos(2*Math.PI*F/w.length))),S(()=>f(M,"cy",a(v)*Math.sin(2*Math.PI*F/w.length))),S(()=>{f(M,"r",a(c)),f(M,"fill",a(q)?"red":"black")}),Y(6,M,()=>ie,()=>({delay:100,duration:200})),Y(5,M,()=>ie,()=>({delay:550,duration:200})),H(G,M)});var P=D(g);ce(P,17,()=>k,ve,(G,q,F)=>{var M=Ra(),C=Z(M);S(()=>f(C,"x1",(a(v)-2*a(c))*Math.cos(a(q)))),S(()=>f(C,"y1",(a(v)-2*a(c))*Math.sin(a(q)))),S(()=>f(C,"x2",(a(v)+2*a(c))*Math.cos(a(q)))),S(()=>f(C,"y2",(a(v)+2*a(c))*Math.sin(a(q))));var L=D(C);S(()=>f(L,"cx",a(v)*Math.cos(a(q)))),S(()=>f(L,"cy",a(v)*Math.sin(a(q)))),X(M),S(()=>{f(M,"opacity",F==a(u)?100:0),f(C,"stroke-width",a(c)/2),f(L,"r",2.5*a(c))}),Y(6,M,()=>ie,()=>({duration:100})),se("click",M,()=>{b(F)}),H(G,M)}),H(_,y)},ae=_=>{var y=Pa(),g=Z(y);ce(g,17,()=>T(d)[0],ve,(M,C,L)=>{var $=La();S(()=>f($,"cx",a(i)==t.smush?4*a(c)*(L-Math.floor(T(d)[0].length/2)):3*a(c)*(a(n)[0][L]-Math.floor(w.length/2)))),S(()=>{f($,"r",a(c)),f($,"cy",a(i)==t.smush?-a(c):0),f($,"fill",a(C)?"red":"black")}),Y(6,$,()=>we,()=>({y:2*a(c),duration:500})),H(M,$)});var P=D(g);ce(P,17,()=>T(d)[1],ve,(M,C,L)=>{var $=Fa();S(()=>f($,"cx",a(i)==t.smush?4*a(c)*(a(h)+L-Math.floor(T(d)[0].length/2)+.5):3*a(c)*(a(n)[1][L]-Math.floor(w.length/2)))),S(()=>{f($,"r",a(c)),f($,"cy",a(i)==t.smush?a(c):0),f($,"fill",a(C)?"red":"black")}),Y(6,$,()=>we,()=>({y:2*a(c),duration:500})),H(M,$)});var G=D(P);{var q=M=>{var C=Ha(),L=ue(C),$=D(L),W=D($),z=Z(W),V=D(z);X(W);var te=D(W),re=Z(te),Me=D(re);X(te),S(()=>{f(L,"points",`${-.4*a(s)},${.35*l} ${-.3*a(s)},${.4*l} ${-.3*a(s)},${.3*l}`),f($,"points",`${.4*a(s)},${.35*l} ${.3*a(s)},${.4*l} ${.3*a(s)},${.3*l}`),f(z,"width",.2*a(s)),f(z,"height",.1*l),f(z,"x",-.26*a(s)),f(z,"y",.3*l),f(z,"rx",a(c)),f(V,"y",.385*l),f(V,"x",-.16*a(s)),f(re,"width",.3*a(s)),f(re,"height",.1*l),f(re,"x",-.04*a(s)),f(re,"y",.3*l),f(re,"rx",a(c)),f(Me,"y",.385*l),f(Me,"x",.11*a(s))}),se("click",L,()=>{R(h,a(h)-1)}),se("click",$,()=>{R(h,a(h)+1)}),se("click",W,()=>{T(d)[1]=T(d)[1].reverse()}),se("click",te,A),H(M,C)},F=M=>{var C=Ge(),L=ue(C);{var $=W=>{var z=Da(),V=Z(z),te=D(V);X(z),S(()=>{f(V,"width",.25*a(s)),f(V,"height",.1*l),f(V,"x",-.125*a(s)),f(V,"y",.3*l),f(V,"rx",a(c)),f(te,"y",.385*l),f(te,"x",0*a(s))}),se("click",z,()=>{I(t.wheel),R(p,T(p)+1)}),H(W,z)};_e(L,W=>{a(i)==t.display&&W($)},!0)}H(M,C)};_e(G,M=>{a(i)==t.smush?M(q):M(F,!1)})}X(y),Y(1,y,()=>ie,()=>({delay:500,duration:800})),Y(2,y,()=>ie,()=>({y:2*a(c),duration:500})),H(_,y)};_e(m,_=>{a(i)==t.wheel?_(E):_(ae,!1)})}X(N);var U=D(N,2);{var O=_=>{var y=Ba();ce(y,20,()=>"Select two points on the wheel",ve,(g,P,G)=>{var q=za(),F=Z(q,!0);X(q),S(()=>qe(F,P)),Y(5,q,()=>ie,()=>({delay:5e3+G*50,duration:800})),H(g,q)}),X(y),Y(2,y,()=>we,()=>({y:-20,duration:200})),H(_,y)};_e(U,_=>{a(i)==t.wheel&&_(O)})}var ne=D(U,2),le=Z(ne);X(ne),S(()=>{f(N,"viewBox",`-${.5*a(s)} -${.5*l} ${a(s)??""} ${l}`),qe(le,`MOVES: ${T(p)??""}`)}),H(r,x),ma()}export{Wa as component};
